<!DOCTYPE html> {% load static %}
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Farm Dashboard</title>
  <!-- plugins:css -->
  <link rel="stylesheet" href="{% static 'vendors/feather/feather.css' %}">
  <link rel="stylesheet" href="{% static 'vendors/ti-icons/css/themify-icons.css' %}">
  <link rel="stylesheet" href="{% static 'vendors/css/vendor.bundle.base.css' %}">
  <!-- endinject -->
  <!-- Plugin css for this page -->
  <link rel="stylesheet" href="{% static 'vendors/datatables.net-bs4/dataTables.bootstrap4.css' %}">
  <link rel="stylesheet" href="{% static 'vendors/ti-icons/css/themify-icons.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'js/select.dataTables.min.css' %}">
  <!-- End plugin css for this page -->
  <!-- inject:css -->
  <link rel="stylesheet" href="{% static 'css/vertical-layout-light/style.css' %}">
  <!-- endinject -->
  <link rel="shortcut icon" href="{% static 'images/logo_t.png' %}" />
    
</head>
<style>
    @media (max-width:992px) {
        #log {
            max-width: 100px;
            margin-top: 12px;
            margin-left: 25px;
            margin-right: 15px;
        }
    }
</style>

<body>
  {% block content %}

    <form>
        <div class="row">
        
          <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
              <div class="card-body">
                <div class="row">
                  <div class="col-md-5"></div>
                  <div class="col-md-4"></div>
                  <div class="col-md-3">
                    <button type="submit " class="btn btn-outline-primary btn-icon-text" onclick="window.print()" style="width: 100px; margin-left: 50px; ">
                
                      Print
                         </button>
                  </div>
                </div>
                <br>
               
                <div class="table-responsive">
                    <table class="table table-bordered">
                      <thead>
                        <tr>
                          <th style="background-color: green; color: #fff;">
                            Expenditure Type
                          </th>
                          <th style="background-color: green; color: #fff;">
                            Date
                          </th>
                          <th style="background-color: green; color: #fff;">
                            Expense Type
                          </th>
                          <th style="background-color: green; color: #fff;">
                            Type Description
                           </th>
                          <th style="background-color: green; color: #fff;">
                             Quantity/Time
                          </th>
                          <th style="background-color: green; color: #fff;">
                              Cost per Unit
                          </th>
                          <th style="background-color: green; color: #fff;">
                            Total Cost
                           </th>
                          
                        </tr>
                      </thead>
                      <tbody id="myTable">
                        {% for i in var %}
                        <tr style="background-color: rgb(241, 249, 252);">
                          <td>{{i.expenditure}}</td>
                          <td>{{i.date|date:"d-m-Y"}}</td>
                          <td>{{i.expense}}</td>
                          <td>{{i.type_description}}</td>
                          <!-- <td>{{i.item}}</td> -->
                          <td>{{i.quantity}}</td>
                          <td>{{i.price}}</td>
                          <td>{{i.total_cost}}</td>
          
                          
                        </tr>
          
                        {% endfor %}
          
                        <tr>
                          <td colspan="6" class="text-black" style="text-align: center;">
                              Total
                          </td>
                          <td id="totalsalary" colspan="1" class="text-black" style="padding-right: 20px;"></td>
                        </tr>
          
                        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
                        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
                        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
                        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
                        <script>
                            $(document).ready(function () {
                                var empsalary;
                                var totalsalary =0;
                               
                                $('td:nth-child(7)').each(function () {
                                    empsalary = $(this).html();
                                    console.log(typeof(empsalary));
                                    a=parseInt(empsalary)
                                    totalsalary += a;
                                    console.log(a);
                                    console.log(totalsalary);
                                   
                                    $('#totalsalary').text(totalsalary);
                                    
                                });
                            });                  
                          </script>
          
                        
                       
                      </tbody>
                    </table>
                  </div>
              </div>
            </div>
          </div>
        </div>
        </form>
        {% endblock %}


    <script src="{% static 'assets/js/off-canvas.js' %} "></script>
    <script src="{% static 'assets/js/hoverable-collapse.js' %} "></script>
    <script src="{% static 'assets/js/misc.js' %} "></script>
    <script src="{% static 'assets/js/settings.js' %} "></script>
    <script src="{% static 'assets/js/todolist.js' %} "></script>

    <!-- endinject -->
    <!-- Custom js for this page -->
    <script src="{% static 'assets/js/dashboard.js' %} "></script>
    <!-- End custom js for this page -->
    <script src="{% static 'assets/vendors/js/vendor.bundle.base.js'%} "></script>
    <!-- endinject -->

    <!-- inject:js -->
    <script src="{% static 'assets/js/chart.js'%} "></script>




</body>

</html>